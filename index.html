<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<style media="screen">
body, html {
  margin: 0;
}

#scene {
  width: 100%;
  height: 600px;
  margin: auto;
}
</style>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

</head>
<body>
<div id="scene"></div>

<script src="//d3js.org/d3.v3.min.js"></script>
<script src="build/IOFlow.js"></script>

<!-- lib script -->
<script type="text/javascript">
function fails(cb) {
  try {
    cb();
  } catch(e) {
    console.error(e);
  }
}

  flow.FlowGraph.setStyle(flow.styles.default);

  var graph = new flow.FlowGraph();

  var timer = graph.addNode(new flow.Node({
    name: 'Timer',
    x: 100, y: 50,
    output: [
      { name: "time", type: "datetime" }
    ]
  }));

  var trello_src = graph.addNode(new flow.Node({
    name: 'Array source',
    x: 400, y: 200,
    input: [
      { name: "trigger", type: "*" }
    ],
    output: [
      { name: "cards", type: "sandwich[]" }
    ]
  }));

  var dummy = graph.addNode(new flow.Node({
    name: "Dummy",
    x: 800, y: 150,
    input: [
      { name: "trigger", type: "*" },
      { name: "filter in", type: "T[]:*[]" }
    ],
    output: [
      { name: "filter out", type: "T[]" },
      { name: "map out", type: "V[]" },
      { name: "foo", type: "*" }
    ]
  }));

  graph.link(timer.outputs['time'], trello_src.inputs['trigger']);
  graph.link(trello_src.outputs['cards'], dummy.inputs['filter in']);
  graph.link(timer.outputs['time'], dummy.inputs['trigger']);

  new flow.GraphView(graph, { domNode: document.getElementById('scene') });

  // window.addEventListener('contextmenu', function (e) {
  //   e.preventDefault();
  // }, false);

</script>

</body>
</html>
